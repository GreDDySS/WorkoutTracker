<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:vm="clr-namespace:WorkoutTracker.ViewModels"
             x:Class="WorkoutTracker.Views.AddExercisePageView"
             x:DataType="vm:AddExerciseViewModel"
             Title="Добавить упражнение"
             BackgroundColor="{StaticResource BackgroundPrimary}">

    <Grid RowDefinitions="Auto, *, Auto" RowSpacing="0">

        <Grid Grid.Row="0" ColumnDefinitions="Auto, *, 40" Padding="20,15">
            <Button Grid.Column="0" Command="{Binding CloseCommand}" Style="{StaticResource ButtonClose}"/>
            <Label Grid.Column="1" Text="{Binding Title}" Style="{StaticResource LabelTitle}" FontSize="18" HorizontalOptions="Center" VerticalOptions="Center"/>
        </Grid>

        <ScrollView Grid.Row="1">
            <VerticalStackLayout Padding="24" Spacing="24">

                <VerticalStackLayout Spacing="8">
                    <Label Text="НАЗВАНИЕ" Style="{StaticResource LabelCaption}"/>
                    <Border Stroke="{StaticResource BackgroundInput}" StrokeThickness="1" StrokeShape="RoundRectangle 16" BackgroundColor="{StaticResource BackgroundSecondary}" Padding="15,5">
                        <Entry Text="{Binding ExerciseName}" Placeholder="Например: Жим лежа" Style="{StaticResource EntryDefault}"/>
                    </Border>
                </VerticalStackLayout>

                <Border Style="{StaticResource CardStyle}">
                    <VerticalStackLayout>
                        <VerticalStackLayout Spacing="15" Margin="0,0,0,15">
                            <Label Text="РАБОТА (сек)" TextColor="{StaticResource AccentWork}" Style="{StaticResource LabelCaption}" HorizontalOptions="Center"/>
                            <Grid ColumnDefinitions="Auto, *, Auto">
                                <Button Grid.Column="0" Text="—" Style="{StaticResource ButtonCounter}" Command="{Binding ChangeWorkTimeCommand}" CommandParameter="-"/>
                                <Label Grid.Column="1" Text="{Binding WorkTimeDisplay}" TextColor="{StaticResource AccentWork}" Style="{StaticResource LabelTitle}" FontSize="32" HorizontalOptions="Center"/>
                                <Button Grid.Column="2" Text="+" Style="{StaticResource ButtonCounter}" Command="{Binding ChangeWorkTimeCommand}" CommandParameter="+"/>
                            </Grid>
                        </VerticalStackLayout>

                        <BoxView HeightRequest="1" Color="{StaticResource BackgroundInput}" Margin="20,10"/>

                        <VerticalStackLayout Spacing="15" Margin="0,15,0,0">
                            <Label Text="ОТДЫХ (сек)" TextColor="{StaticResource AccentRest}" Style="{StaticResource LabelCaption}" HorizontalOptions="Center"/>
                            <Grid ColumnDefinitions="Auto, *, Auto">
                                <Button Grid.Column="0" Text="—" Style="{StaticResource ButtonCounter}" Command="{Binding ChangeRestTimeCommand}" CommandParameter="-"/>
                                <Label Grid.Column="1" Text="{Binding RestTimeDisplay}" TextColor="{StaticResource AccentRest}" Style="{StaticResource LabelTitle}" FontSize="32" HorizontalOptions="Center"/>
                                <Button Grid.Column="2" Text="+" Style="{StaticResource ButtonCounter}" Command="{Binding ChangeRestTimeCommand}" CommandParameter="+"/>
                            </Grid>
                        </VerticalStackLayout>

                    </VerticalStackLayout>
                </Border>
            </VerticalStackLayout>
        </ScrollView>

        <Grid Grid.Row="2" Padding="24,20,24,30">
            <Button Command="{Binding SaveCommand}"
                    Text="СОХРАНИТЬ"
                    Style="{StaticResource ButtonPrimary}"/>
        </Grid>
    </Grid>
</ContentPage>