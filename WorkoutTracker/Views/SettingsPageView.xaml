<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:vm="clr-namespace:WorkoutTracker.ViewModels"
             x:Class="WorkoutTracker.Views.SettingsPageView"
             x:DataType="vm:SettingsViewModel"
             Title="Настройки"
             BackgroundColor="{StaticResource BackgroundPrimary}">

    <ScrollView>
        <VerticalStackLayout Padding="24" Spacing="30">

            <Label Text="Настройки" Style="{StaticResource LabelHero}" FontSize="36" Margin="0,10"/>

            <VerticalStackLayout Spacing="12">
                <Label Text="ПО УМОЛЧАНИЮ" Style="{StaticResource LabelCaption}"/>

                <Border Style="{StaticResource CardStyle}">
                    <VerticalStackLayout Spacing="20">
                        <Grid ColumnDefinitions="*, Auto">
                            <Label Text="Подходы" VerticalOptions="Center" Style="{StaticResource LabelBody}"/>
                            <Border Grid.Column="1" Style="{StaticResource CounterContainer}" WidthRequest="130">
                                <Grid ColumnDefinitions="40, *, 40">
                                    <Button Grid.Column="0" Text="-" Style="{StaticResource ButtonCounter}" Command="{Binding ChangeApproachesCommand}" CommandParameter="-"/>
                                    <Label Grid.Column="1" Text="{Binding DefaultApproaches}" FontSize="16" FontAttributes="Bold" HorizontalOptions="Center" VerticalOptions="Center"/>
                                    <Button Grid.Column="2" Text="+" Style="{StaticResource ButtonCounter}" Command="{Binding ChangeApproachesCommand}" CommandParameter="+"/>
                                </Grid>
                            </Border>
                        </Grid>

                        <BoxView HeightRequest="1" Color="{StaticResource BackgroundSecondary}"/>

                        <Grid ColumnDefinitions="*, Auto">
                            <Label Text="Время работы" VerticalOptions="Center" Style="{StaticResource LabelBody}"/>
                            <Border Grid.Column="1" Style="{StaticResource CounterContainer}" WidthRequest="130">
                                <Grid ColumnDefinitions="40, *, 40">
                                    <Button Grid.Column="0" Text="-" Style="{StaticResource ButtonCounter}" Command="{Binding ChangeWorkTimeCommand}" CommandParameter="-"/>
                                    <Label Grid.Column="1" Text="{Binding WorkTimeDisplay}" TextColor="{StaticResource AccentWork}" FontSize="16" FontAttributes="Bold" HorizontalOptions="Center" VerticalOptions="Center"/>
                                    <Button Grid.Column="2" Text="+" Style="{StaticResource ButtonCounter}" Command="{Binding ChangeWorkTimeCommand}" CommandParameter="+"/>
                                </Grid>
                            </Border>
                        </Grid>

                        <BoxView HeightRequest="1" Color="{StaticResource BackgroundSecondary}"/>

                        <Grid ColumnDefinitions="*, Auto">
                            <Label Text="Время отдыха" VerticalOptions="Center" Style="{StaticResource LabelBody}"/>
                            <Border Grid.Column="1" Style="{StaticResource CounterContainer}" WidthRequest="130">
                                <Grid ColumnDefinitions="40, *, 40">
                                    <Button Grid.Column="0" Text="-" Style="{StaticResource ButtonCounter}" Command="{Binding ChangeRestTimeCommand}" CommandParameter="-"/>
                                    <Label Grid.Column="1" Text="{Binding RestTimeDisplay}" TextColor="{StaticResource AccentRest}" FontSize="16" FontAttributes="Bold" HorizontalOptions="Center" VerticalOptions="Center"/>
                                    <Button Grid.Column="2" Text="+" Style="{StaticResource ButtonCounter}" Command="{Binding ChangeRestTimeCommand}" CommandParameter="+"/>
                                </Grid>
                            </Border>
                        </Grid>
                    </VerticalStackLayout>
                </Border>
            </VerticalStackLayout>

            

            <VerticalStackLayout Spacing="12">
                <Label Text="УВЕДОМЛЕНИЯ" Style="{StaticResource LabelCaption}"/>

                <Border Style="{StaticResource CardStyle}">
                    <VerticalStackLayout Spacing="20">
                        <Grid ColumnDefinitions="*, Auto">
                            <VerticalStackLayout Spacing="2">
                                <Label Text="Звук" Style="{StaticResource LabelBody}"/>
                                <Label Text="Сигнал при смене фаз" Style="{StaticResource LabelCaption}" TextColor="{StaticResource TextTertiary}"/>
                            </VerticalStackLayout>
                            <Switch Grid.Column="1" IsToggled="{Binding SoundEnabled}" OnColor="{StaticResource AccentMain}" ThumbColor="White"/>
                        </Grid>

                        <BoxView HeightRequest="1" Color="{StaticResource BackgroundSecondary}"/>

                        <Grid ColumnDefinitions="*, Auto">
                            <VerticalStackLayout Spacing="2">
                                <Label Text="Вибрация" Style="{StaticResource LabelBody}"/>
                                <Label Text="Тактильный отклик" Style="{StaticResource LabelCaption}" TextColor="{StaticResource TextTertiary}"/>
                            </VerticalStackLayout>
                            <Switch Grid.Column="1" IsToggled="{Binding VibrationEnabled}" OnColor="{StaticResource AccentMain}" ThumbColor="White"/>
                        </Grid>
                    </VerticalStackLayout>
                </Border>
            </VerticalStackLayout>

            <BoxView HeightRequest="80" Color="Transparent"/>
        </VerticalStackLayout>
    </ScrollView>
</ContentPage>